+++
date = '2025-09-10T17:55:00+08:00'
draft = false
title = '智能短信平台'
+++

<!--more-->

# 飞鹰

数据模块：

广告主在广告主端页面，广告主发送短信，发送领域会向es发送一条记录，

# 统一研发流程



飞鹰项目原来是一个单体应用，随着业务不断发展，单体应用改造成本变大，于是做了微服务改造。微服务拆分？



原有：以往发布的时候是发布在物理机上，当扩缩容时，很不方便，所以业务做了容器化。在单实例扩展资源遭遇瓶颈时，可以配合负载均衡机制实现容器实例的弹性扩展，可以实现快速devops。团队从需求、开发、测试、发布、验收全流程标准管理。需求管理，开发分支与需求绑定，使用aoneflow分支模式：补充，在流水线中引入代码检查，codeReiview，支持灰度发布、无损变更。通过收集日志，添加监控告警完善系统。在云上做到正式环境与其他环境资源隔离，使系统可用性不断提高。

改进后：

发布流程非常不规范，大部分人都有现网变更的权限，都是手动变更。就引起了很多问题，比如有人想变测试环境的实例但是不小心变到正式环境上了，或者测试配置配置上了正式环境了。开发过程中有现网的问题出现，多人协作的问题：单体应用时，功能级残缺，提交了这个功能。

项目使用公司内部平台，在上面使用需求池管理需求，项目经理或产品可以在需求池中直接提交需求并将需求分配到开发人员，需求池支持绑定开发分支，开发同学可以认领自己的需求并绑定feature分支进行开发，开发同学开发完成后提交代码到远程仓库，合并到release分支，流水线监听合并事件自动触发部署到测试环境。开发同学在测试环境上进行测试后，如果没有问题，就可以基于release分支进行发布。发布后将release分支合并到master分支，并将master分支合并进现有的release分支。





实际场景和问题？

建立了标准的分支管理模型，aoneflow

怎么解决生命周期，实现了devops流程。

存在什么样的问题？

**1、多团队合作，发布流程，手动变更**

建设devops流程，解决对应的问题

选了一个工具平台。建立代码统一管理规范，代码库统一管理，流水线管理，制品库，线上配置文件的管理。部署到k8s上的。引入变更发布流程，审批发布知会。

方案决策：结合实际情况，选择了适合团队的。

Gitflow更多人开源项目



2、正式环境测试环境没有隔离，权限没有控制好。配置不对，数据就乱套了

3、在变更过程中，灰度发布。

**4、aoneflow ,相关固定的迭代周期。**

trunkbased功能开关,开发过程中现网有新的需求出现。

5、多人协作的问题：代码覆盖，功能残缺。trunkbased，不能应对紧急情况。人少

团队在膨胀，研发流程规范。

收益是什么？

度量方式？

具体case



CICD

持续集成、持续交付、持续部署

持续集成：代码提交到流水线编译通过集成测试

持续交付：生成制品，经过了测试+产品验收，可以发布了。  测试自动化程度？

 持续部署：制品不断现网发布，不需要人为的中断





持续运营







飞鹰项目：

 

1、负责数据模块，提供对外接口实现广告主端数据展示以及定时任务统计发送、到达短信数。

 

 

 

 2021.05-至今 TEG数据平台部 飞鹰智能短信营销平台  

项目介绍：

与泰迪熊、梦网等智能短信供应商合作，将原有的文字营销短信升级为图文、音视频等富媒体形态，提升广告转化率。广告主可以在Web页面上编辑短信创意，制定发送计划，并查看转化效果。飞鹰平台在上线5个月内，累计发送1.8亿条智能短信。

个人职责：

1. 负责短信数据领域的开发，提供数据采集，统计和展示等能力。

   

2. 负责项目上云专项，搭建基于云原生的devops研发流程。

